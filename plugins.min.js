/*!
 * jQuery-Plugins
 * Author: T. Zengerink (t.zengerink@gmail.com)
 * Copyright (c) 2013 T. Zengerink
 * MIT licensed, https://raw.github.com/Mytho/jquery-plugins/master/LICENSE.md
 */
var $,Plugins,doc,uniq,win,__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};$=jQuery,doc=document,win=window,uniq=-1,Plugins=win.Plugins={},Plugins.cat=function(){return Array.prototype.slice.call(arguments).join("")},Plugins.delay=function(e,t){return setTimeout(t,e)},Plugins.log=function(){var e,t,n,r,i,s;r=Array.prototype.slice.call(arguments),s=[];for(t=0,n=r.length;t<n;t++)e=r[t],s.push((i=win.console)!=null?i.log(e):void 0);return s},Plugins.create=function(e,t){var n;return n=$(doc.createElement(e)),t&&n.addClass(t),n},Plugins.Plugin=function(){function e(e,t){this.id=++uniq,this.config=$.extend({},this.defaults,e),this.target=t,this.elId=Plugins.cat(this.config["class"],"-",this.id),this.selector=Plugins.cat("#",this.elId),this.init()}return e.prototype.defaults={"class":"plugin"},e.prototype.init=function(){return!1},e}(),Plugins.Accordion=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.defaults={delay:50,"class":"accordion",slide:250},t.prototype.activate=function(e){return $(Plugins.cat(this.selector," a[href!=",e.attr("href"),"]")).removeClass("active"),e.toggleClass("active")},t.prototype.bind=function(){var e;return e=this,$(Plugins.cat(e.selector," a")).on("click",function(t){return t.preventDefault(),e.activate($(this)),e.toggle($(this).attr("href"))})},t.prototype.init=function(){return $(this.target).attr("id",this.elId),$(Plugins.cat(this.selector," div")).hide(),this.bind()},t.prototype.toggle=function(e){var t;return t=this,Plugins.delay(t.config.delay,function(){return $(Plugins.cat(t.selector," div")).slideUp(t.config.slide),$(e).is(":visible")?$(e).slideUp(t.config.slide):$(e).slideDown(t.config.slide)})},t}(Plugins.Plugin),$.fn.accordion=function(e){return this.each(function(){return new Plugins.Accordion(e,$(this))})},Plugins.Dialog=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.defaults={cancelText:"Cancel",confirmText:"OK",contentClass:"dialog-content",headerText:"Confirm",invokeEvent:"click","class":"dialog",onCancel:function(){},onClose:function(){},onConfirm:function(){},onOpen:function(){},showClose:!0},t.prototype.bind=function(){var e;return e=this,$(Plugins.cat(e.selector," .cancel")).on("click",function(){return e.cancel.apply(e)}),$(Plugins.cat(e.selector," .confirm")).on("click",function(){return e.confirm.apply(e)}),$(doc).keyup(function(t){if($(e.selector).is(":visible")){t.keyCode===13&&e.confirm.apply(e);if(t.keyCode===27)return e.cancel.apply(e)}}),$(win).on("resize scroll",function(){return e.position.apply(e)}),this.target.on(e.config.invokeEvent,function(){return e.open.apply(e)})},t.prototype.build=function(){var e;return e=this.target.next(Plugins.cat(".",this.config.contentClass)).html(),this.target.next(Plugins.cat(".",this.config.contentClass)).hide(),Plugins.create("div",this.config["class"]).attr("id",this.elId).appendTo("body").hide(),Plugins.create("div","overlay").appendTo(this.selector),Plugins.create("div","window").appendTo(this.selector),Plugins.create("div","header").appendTo(Plugins.cat(this.selector," .window")),Plugins.create("h3").html(this.config.headerText).appendTo(Plugins.cat(this.selector," .header")),this.config.showClose&&Plugins.create("button","cancel").html("×").appendTo(Plugins.cat(this.selector," .header")),Plugins.create("div","clear").appendTo(Plugins.cat(this.selector," .header")),Plugins.create("div","content").html(e).appendTo(Plugins.cat(this.selector," .window")),Plugins.create("div","actions").appendTo(Plugins.cat(this.selector," .window")),Plugins.create("button","cancel").html(this.config.cancelText).appendTo(Plugins.cat(this.selector," .actions")),Plugins.create("button","confirm").html(this.config.confirmText).appendTo(Plugins.cat(this.selector," .actions"))},t.prototype.cancel=function(){var e;return(e=this.config.onCancel)!=null&&e.apply(this.target),this.close()},t.prototype.close=function(){var e;return(e=this.config.onClose)!=null&&e.apply(this.target),$(this.selector).hide()},t.prototype.confirm=function(){var e;return(e=this.config.onConfirm)!=null&&e.apply(this.target),this.close()},t.prototype.init=function(){return this.build(),this.bind()},t.prototype.open=function(){var e;return $(this.selector).show(),this.position(),(e=this.config.onOpen)!=null?e.apply(this.target):void 0},t.prototype.position=function(){var e,t,n,r;return r=Math.floor($(win).outerWidth()/2),n=Math.floor($(win).outerHeight()/2),t=Math.floor($(Plugins.cat(this.selector," .window")).outerWidth()/2),e=Math.floor($(Plugins.cat(this.selector," .window")).outerHeight()/2),$(Plugins.cat(this.selector," .overlay")).css({height:$(doc).outerHeight(),left:$(win).scrollLeft()}),$(Plugins.cat(this.selector," .window")).css({left:Plugins.cat(r-t+$(win).scrollLeft(),"px"),top:Plugins.cat(n-e+$(win).scrollTop(),"px")})},t}(Plugins.Plugin),$.fn.dialog=function(e){return this.each(function(){return new Plugins.Dialog(e,$(this))})},Plugins.Message=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.defaults={"class":"message",containerId:"messages-container",delay:100,speed:250,onClose:function(){return!1},onOpen:function(){return!1},type:"alert"},t.prototype.init=function(){var e;return e=this,this.target.hide(),$(Plugins.cat("#",this.config.containerId)).length||Plugins.create("div").attr("id",this.config.containerId).appendTo("body"),Plugins.create("div",Plugins.cat("message message-",this.config.type)).html(this.target.html()).attr("id",this.elId).on("click",function(){return e.close.apply(e)}).hide().appendTo(Plugins.cat("#",this.config.containerId)),Plugins.create("div","close").html("×").appendTo(this.selector),this.target.remove(),this.open()},t.prototype.open=function(){var e;return e=this,Plugins.delay(this.config.delay,function(){var t;return $(e.selector).slideDown(e.config.speed),(t=e.config.onOpen)!=null?t.apply(e.target):void 0})},t.prototype.close=function(){var e;return e=this,Plugins.delay(this.config.delay,function(){var t;return $(e.selector).slideUp(e.config.speed),(t=e.config.onClose)!=null?t.apply(e.target):void 0})},t}(Plugins.Plugin),$.fn.message=function(e){return this.each(function(){return new Plugins.Message(e,$(this))})},Plugins.Tabs=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.defaults={"class":"tabs"},t.prototype.activate=function(e){return this.target.find(Plugins.cat(" a[href!=",e.attr("href"),"]")).removeClass("active"),this.toggle(e.attr("href")),e.toggleClass("active")},t.prototype.bind=function(){var e;return e=this,e.target.find("a").on("click",function(t){return t.preventDefault(),e.activate($(this))})},t.prototype.init=function(){return this.activate(this.target.find("a:first")),this.bind()},t.prototype.toggle=function(e){return this.target.find("div.content div").hide(),this.target.find(e).show()},t}(Plugins.Plugin),$.fn.tabs=function(e){return this.each(function(){return new Plugins.Tabs(e,$(this))})},Plugins.Tooltip=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.defaults={attr:"title",delay:100,fade:100,invokeHideEvent:"mouseleave",invokeShowEvent:"mouseenter","class":"tooltip",margin:3,position:"top"},t.prototype.timer=!1,t.prototype._reposition=function(e,t){switch(t){case"right":return e.left-$(win).scrollLeft()+this.target.outerWidth()+$(this.selector).outerWidth()+15>$(win).width()?"left":t;case"bottom":return e.top-$(win).scrollTop()+this.target.outerHeight()+$(this.selector).outerHeight()+15>$(win).height()?"top":t;case"left":return e.left-$(win).scrollLeft()<$(this.selector).outerWidth()+15?"right":t;default:return e.top-$(win).scrollTop()<$(this.selector).outerHeight()+15?"bottom":t}},t.prototype.bind=function(){var e;return e=this,this.target.on(this.config.invokeShowEvent,function(){if(!$(e.selector).is(":visible"))return e.show.apply(e)}),this.target.on(this.config.invokeHideEvent,function(){if($(e.selector).is(":visible"))return e.hide.apply(e)}),$(win).on("scroll",this.position.apply(this))},t.prototype.build=function(){return Plugins.create("div",this.config["class"]).attr("id",this.elId).appendTo("body").hide(),Plugins.create("div","arrow").appendTo(this.selector),Plugins.create("div","content").html(this.target.attr(this.config.attr)).appendTo(this.selector),this.target.attr(this.config.attr,"")},t.prototype.hide=function(){var e;return e=this,clearTimeout(this.timer),this.timer=Plugins.delay(e.config.delay,function(){return $(e.selector).fadeOut(e.config.fade)})},t.prototype.init=function(){return this.build(),this.bind()},t.prototype.position=function(){var e,t,n,r;r=this.target.position(),t=this._reposition(r,this.config.position);switch(t){case"right":n=r.top+this.target.outerHeight()/2-$(this.selector).outerHeight()/2,e=r.left+this.target.outerWidth()+(5+this.config.margin);break;case"bottom":n=r.top+this.target.outerHeight()+(5+this.config.margin),e=r.left+this.target.outerWidth()/2-$(this.selector).outerWidth()/2;break;case"left":n=r.top+this.target.outerHeight()/2-$(this.selector).outerHeight()/2,e=r.left-$(this.selector).outerWidth()-(5+this.config.margin);break;default:n=r.top-$(this.selector).outerHeight()-(5+this.config.margin),e=r.left+this.target.outerWidth()/2-$(this.selector).outerWidth()/2}return $(this.selector).removeClass("top right bottom left").addClass(t).css({left:e,top:n})},t.prototype.show=function(){var e;return e=this,this.position(),this.timer=Plugins.delay(e.config.delay,function(){return $(Plugins.cat(".",e.config["class"])).fadeOut(e.config.fade),$(e.selector).fadeIn(e.config.fade)})},t}(Plugins.Plugin),$.fn.tooltip=function(e){return this.each(function(){return new Plugins.Tooltip(e,$(this))})};